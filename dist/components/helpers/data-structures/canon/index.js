"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var Promise=require("bluebird"),DataStructures=function(){return function(e,t){var r=this;this.events=e,this.checkThrow=t,this.mapDetails=function(e,t,n){function i(e){var t=e;return"object"==typeof e&&null!==e&&function(){for(;null!==Object.getPrototypeOf(t=Object.getPrototypeOf(t)););return Object.getPrototypeOf(e)===t}()}return void 0===n&&(n=!1),r.checkThrow(n).then(function(n){return new Promise(function(n,o){for(var c in e)e.hasOwnProperty(c)&&(i(e[c])?r.mapDetails(e[c],t[c]):t[c]=e[c]);n()})}).catch(function(n){return new Promise(function(i,o){r.events.mapDetailsFailed({details:e,destination:t,reason:n}),i()}),Promise.reject({identifier:"MapDetailsFailed",data:{reason:n}})})},this.sortObjectArray=function(e,t,n,i){return void 0===i&&(i=!1),r.checkThrow(i).then(function(i){return new Promise(function(i,o){var c=t.split(".");e.sort(function(e,t){var i=r.getPropertyReference(e,c),o=r.getPropertyReference(t,c);return i<o?"Ascending"===n?-1:1:i>o?"Ascending"===n?1:-1:0}),i(e)})}).catch(function(i){return new Promise(function(o,c){r.events.sortObjectArrayFailed({array:e,criteria:t,order:n,reason:i}),o()}),Promise.reject({identifier:"SortObjectArrayFailed",data:{reason:i}})})},this.getPropertyReference=function(e,t,r){void 0===r&&(r=!1);for(var n=0;n<t.length;n++){if(!e)return null;e=e[t[n]]}return e}}}();exports.default=DataStructures;