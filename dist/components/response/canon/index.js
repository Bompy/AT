"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var Canon=function(){return function(e){var s=this;this.events=e,this.middleware=[],this.send=function(e,t,n,a,r){e.format({json:function(){return e.status(200).json({success:n||!1,message:a||"",payload:r||""})},html:function(){var o;try{var c={success:n||!1,message:a||null};r&&(c.payload=r),o=JSON.stringify(c)}catch(e){s.events.stringifyHtmlPacketFailed({payload:r||"",reason:e}),o=""}return e.render(t,{jsonString:o})},default:function(){return s.events.unacceptableResponseType({res:e,packet:{view:t,success:n,message:a,payload:r}}),e.status(406).send("Not Acceptable")}})}}}();exports.default=Canon;