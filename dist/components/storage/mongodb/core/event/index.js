"use strict";function makeConditions(e){return new Promise(function(t,n){var r={};e.context&&(r.context=e.context),e.identifier&&(r.identifier=e.identifier),e.tags&&(r.tags={$all:e.tags}),e.textSearch&&(r.$text={$search:e.textSearch}),t(r)})}function makeSortCriteria(e){return new Promise(function(t,n){var r;r=e.criteria,"Descending"===e.order&&(r="-"+r),t(r)})}function generateAddDetails(e){var t=[];return e.forEach(function(e){e.context,e.identifier,e.tags,e.data;t.push()}),t}function generateUpdateDetails(e,t){return new Promise(function(n,r){t.context&&(e.context=t.context),t.identifier&&(e.identifier=t.identifier),t.tags&&(e.tags=[],t.tags.forEach(function(t){e.tags.push(t)})),t.data&&(e.data=t.data),n(e)})}function convertToAbstract(e,t){return void 0===t&&(t=!1),this.checkThrow(t).then(function(t){return new Promise(function(t,n){var r=[];e.forEach(function(e){var t={id:e._id.toHexString(),context:e.context,identifier:e.identifier,tags:e.tags,data:e.data,createdAt:e.createdAt,updatedAt:e.updatedAt};r.push(t)}),t(r)})})}Object.defineProperty(exports,"__esModule",{value:!0});var Promise=require("bluebird"),generic_model_class_1=require("../../generic-model-class"),generic_event_class_1=require("../../generic-event-class"),model_1=require("./model");exports.default=function(e,t,n){var r=new generic_event_class_1.default(e,"Core|Event");return new generic_model_class_1.default(r,model_1.MongooseModel,t,n,makeConditions,makeSortCriteria,generateAddDetails,generateUpdateDetails,convertToAbstract)};