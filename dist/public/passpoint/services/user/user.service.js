var UserService;!function(e){var t=function(){return function(e,t,s,r){var n=this;this.$q=e,this.$http=t,this.ToastService=s,this.ContextsService=r,this.requestResetCode=function(e){return n.$http.get("/core/profile/requestPasswordResetCode/"+e).then(function(e){var t=e.data;if(t.success)return n.ToastService.showSimple("Done. An email has been sent to your email address"),n.$q.resolve();var s=t.message?t.message:"Something went wrong";return n.ToastService.showSimple(s),n.$q.reject({message:s})}).catch(function(e){var t=e&&e.message?e.message:"Something went wrong";return n.ToastService.showSimple(t),n.$q.reject({message:t})})},this.signUp=function(e,t){var s={emailAddress:e,password:t};return n.$http.post("/core/consumer/registration/signUp",s).then(function(e){var t=e.data;if(t.success)return n.$q.resolve();var s=t.message?t.message:"Couldn't sign you up";return n.ToastService.showSimple(s),n.$q.reject({message:s})}).catch(function(e){var t=e&&e.message?e.message:"Something went wrong";return n.ToastService.showSimple(t),n.$q.reject({message:t})})},this.signIn=function(e,t){var s={emailAddress:e,password:t};return n.$http.post("/core/auth/signIn",s).then(function(e){var t=e.data;if(t.success){if(n.ContextsService.appContext){var s="/"+n.ContextsService.appContext.split("-").join("/");n.ContextsService.nextInnerContext&&(s+="?innerContext="+n.ContextsService.nextInnerContext),window.location.href=s}else window.location.href="/";return n.$q.resolve()}return n.$q.reject({message:t.message?t.message:""})}).catch(function(e){var t=e&&e.message?e.message:"Something went wrong";return n.ToastService.showSimple(t),n.$q.reject({message:t})})}}}();e.Service=t}(UserService||(UserService={}));