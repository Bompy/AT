var SignInComponent;!function(e){var t=function(){return function(e,t,s,o,n,r){var i=this;this.$q=e,this.$routeParams=t,this.ToastService=s,this.DialogService=o,this.UserService=n,this.ContextsService=r,this.checkInnerContext=function(){if(i.ContextsService.innerContext){if("change-email-address"===i.ContextsService.innerContext&&i.ContextsService.decoded.success)return e=i.ContextsService.decoded.message?i.ContextsService.decoded.message:"Email address changed successfully. Sign in with your address",i.DialogService.showAlert("Email Address Changed",e);if("request-reset-code"===i.ContextsService.innerContext)return i.ContextsService.decoded.success?(e=i.ContextsService.decoded.message?i.ContextsService.decoded.message:"An email with the reset code has been sent to your email address",i.DialogService.showAlert("Reset Password",e)):(e=i.ContextsService.decoded.message?i.ContextsService.decoded.message:"Something went wrong",i.DialogService.showAlert("Reset Password",e));if("reset-password"===i.ContextsService.innerContext)return i.ContextsService.decoded.success?(e=i.ContextsService.decoded.message?i.ContextsService.decoded.message:"Your password has been reset. ",i.ContextsService.decoded.payload&&i.ContextsService.decoded.payload.newRandomPassword?e+="Use this password: "+i.ContextsService.decoded.payload.newRandomPassword:e+="<b>( Something went wrong, contact support )</b>",i.DialogService.showAlert("Reset Password",e)):(e=i.ContextsService.decoded.message?i.ContextsService.decoded.message:"Something went wrong",i.DialogService.showAlert("Reset Password",e));if("delete-account"===i.ContextsService.innerContext)return i.DialogService.showAlert("Delete Account","Account deleted",null,"Ok");if(console.log(i.ContextsService.decoded),"verify-account"===i.ContextsService.innerContext){if(i.ContextsService.decoded.success)return e=i.ContextsService.decoded.message?i.ContextsService.decoded.message:"Your account has been verified. Sign in with your email address",i.DialogService.showAlert("Account Verification",e);var e=i.ContextsService.decoded.message?i.ContextsService.decoded.message:"Something went wrong";return console.log(e),i.DialogService.showAlert("Account Verification",e)}}},this.forgot=function(){return i.DialogService.showPrompt("Forgot Password","Enter your email address and we'll send you a recovery link.",null,"Enter your email address","Yes, Send","No").then(function(e){return e?i.UserService.requestResetCode(e):i.$q.reject()})},this.signIn=function(){return i.emailAddress?i.password?(i.authenticating=!0,i.UserService.signIn(i.emailAddress,i.password).then(function(e){i.authenticating=!1}).catch(function(e){i.authenticating=!1})):i.ToastService.showSimple("Enter your password"):i.ToastService.showSimple("Provide an email address")},this.authenticating=!1,this.emailAddress="",this.password="",this.checkInnerContext(),this.ContextsService.checked||(this.ContextsService.checked=!0)}}();e.Component=t}(SignInComponent||(SignInComponent={}));